(function(){"use strict";var t={4792:function(t,e,r){var i=r(8935),a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{attrs:{id:"app"}},[r("Home")],1)},n=[],c=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"container"},[r("div",{staticClass:"home-container"},[r("h1",{staticClass:"mb-5"},[t._v("Teste DACXI - Consumindo API coingeko")]),r("div",{staticClass:"row"},[r("div",{staticClass:"col-12 col-md-6"},[r("b-form-group",{attrs:{label:"Selecione a moeda:"}},[r("b-form-select",{staticClass:"form-control",attrs:{options:t.currencieOptions,size:"sm"},model:{value:t.currencieSelect,callback:function(e){t.currencieSelect=e},expression:"currencieSelect"}})],1)],1),r("div",{staticClass:"col-12 col-md-6"},[r("b-form-group",{attrs:{label:"Selecione a crypto:"}},[r("b-form-select",{staticClass:"form-control",attrs:{options:t.coinOptions,size:"sm"},model:{value:t.coinSelect,callback:function(e){t.coinSelect=e},expression:"coinSelect"}})],1)],1)]),r("card-crypto",{attrs:{loading:t.loading,rank:t.data.market_cap_rank,image:t.data.image,coinName:t.data.name,symbol:t.data.symbol,currency:t.currencieSelect,currentPrice:t.moedaFormatada,echangePorcentage:t.data.price_change_percentage_24h}}),r("div",{staticClass:"row"},[r("div",{staticClass:"col-12 col-md-5"},[r("b-form-group",{attrs:{label:"Selecione a data:"}},[r("b-form-input",{attrs:{type:"date",required:""},model:{value:t.dateValue,callback:function(e){t.dateValue=e},expression:"dateValue"}})],1)],1),r("div",{staticClass:"col-12 col-md-5 mt-2 mt-md-0"},[r("b-form-group",{attrs:{label:"Selecione a hora:"}},[r("b-form-input",{attrs:{type:"time",required:""},model:{value:t.timeValue,callback:function(e){t.timeValue=e},expression:"timeValue"}})],1)],1),r("div",{staticClass:"col-12 col-md-2 align-self-end"},[r("button",{staticClass:"btn btn-primary mt-2",staticStyle:{width:"100%"},on:{click:t.priceFilter}},[t._v("Filtrar")])])]),r("div",{staticClass:"row mt-4"},[r("div",{staticClass:"col"},[r("b-form-group",{attrs:{label:"Valor no dia/hora:"}},[r("input",{staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.priceFiltered}})])],1)])],1)])},o=[],s=r(6166),l=r.n(s);const u=l().create({baseURL:"https://api.coingecko.com/api/v3"});var d=u,p=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"card"},[r("b-skeleton-wrapper",{attrs:{loading:t.loading},scopedSlots:t._u([{key:"loading",fn:function(){return[r("b-skeleton",{attrs:{type:"button",width:"20%"}}),r("b-skeleton",{staticClass:"my-2 my-md-4",attrs:{type:"button",width:"75%"}}),r("b-skeleton",{attrs:{type:"button",width:"50%"}})]},proxy:!0}])},[r("div",{staticClass:"entrada"},[r("div",{staticClass:"rank"},[r("span",[t._v("Rank #"+t._s(t.rank))])]),r("div",{staticClass:"crypto"},[r("img",{attrs:{src:t.image,alt:""}}),r("span",[t._v(t._s(t.coinName)+" ("+t._s(t.symbol)+")")])]),r("div",{staticClass:"price"},[r("span",{staticClass:"value"},[t._v(t._s(t.currentPrice))]),r("span",{staticClass:"echange",class:t.echangePorcentage>0?"up":"down"},[t._v(t._s(t._f("porcentage")(t.echangePorcentage))+"%")])])])])],1)},m=[],f={name:"CardCrypto",props:["loading","rank","image","coinName","symbol","currency","currentPrice","echangePorcentage"],filters:{porcentage(t){if(t)return t.toFixed(2)}}},h=f,g=r(1001),v=(0,g.Z)(h,p,m,!1,null,"e8c25e26",null),b=v.exports,y={data(){return{polling:null,errFilter:!1,timeValue:"",dateValue:"",data:[],loading:!1,baseURL:"https://api.coingecko.com/api/v3/coins/markets",coinSelect:"bitcoin",currencieSelect:"usd",currencieOptions:[{value:"usd",text:"USD"},{value:"brl",text:"BRL"}],coinOptions:[{value:"bitcoin",text:"Bitcoin"},{value:"ethereum",text:"Ethereum"},{value:"dacxi",text:"Dacxi"},{value:"terra-luna",text:"Terra"}],priceFiltered:null}},computed:{moedaFormatada(){if(this.data.current_price)return this.priceFormatter(this.data.current_price,this.currencieSelect)}},watch:{currencieSelect(){this.priceFiltered?(this.priceFilter(),this.getCoin()):this.getCoin()},coinSelect(){this.priceFiltered?(this.priceFilter(),this.getCoin()):this.getCoin()}},methods:{pollData(){this.polling=setInterval((()=>{this.getCoin()}),15e3)},clearFilter(){this.priceFiltered=null},async getCoin(){this.loading=!0;const t=`/coins/markets?vs_currency=${this.currencieSelect}&ids=${this.coinSelect}`,e=await d.get(t);this.data=await e.data[0],this.loading=!1},convertDate(t,e){const r=`${t} ${e}`;let i="00";const[a,n]=r.split(" "),[c,o,s]=a.split("-"),[l,u]=n.split(":"),d=new Date(+c,o-1,+s,+l,+u,+i),p=Math.floor(d.getTime()/1e3);return p},async priceFilter(){const t=86400,e=await this.convertDate(this.dateValue,this.timeValue),r=await e-t,i=await d.get(`/coins/${this.coinSelect}/market_chart/range?vs_currency=${this.currencieSelect}&from=${r}&to=${e}`);i.data.prices.length>0?this.priceFiltered=this.priceFormatter(i.data.prices[i.data.prices.length-1][1],this.currencieSelect):this.priceFiltered="Data incorreta"},priceFormatter(t,e){return"usd"===e?"US"+t.toLocaleString("en-US",{style:"currency",currency:e,minimumFractionDigits:4}):t.toLocaleString("pt-BR",{style:"currency",currency:e,minimumFractionDigits:4})}},components:{CardCrypto:b},beforeDestroy(){clearInterval(this.polling)},created(){this.getCoin(),this.pollData()}},C=y,_=(0,g.Z)(C,c,o,!1,null,null,null),S=_.exports,k={name:"App",components:{Home:S}},w=k,x=(0,g.Z)(w,a,n,!1,null,null,null),F=x.exports,O=r(150);r(44);i["default"].config.productionTip=!1,i["default"].use(O.XG7),new i["default"]({render:t=>t(F)}).$mount("#app")}},e={};function r(i){var a=e[i];if(void 0!==a)return a.exports;var n=e[i]={exports:{}};return t[i](n,n.exports,r),n.exports}r.m=t,function(){var t=[];r.O=function(e,i,a,n){if(!i){var c=1/0;for(u=0;u<t.length;u++){i=t[u][0],a=t[u][1],n=t[u][2];for(var o=!0,s=0;s<i.length;s++)(!1&n||c>=n)&&Object.keys(r.O).every((function(t){return r.O[t](i[s])}))?i.splice(s--,1):(o=!1,n<c&&(c=n));if(o){t.splice(u--,1);var l=a();void 0!==l&&(e=l)}}return e}n=n||0;for(var u=t.length;u>0&&t[u-1][2]>n;u--)t[u]=t[u-1];t[u]=[i,a,n]}}(),function(){r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,{a:e}),e}}(),function(){r.d=function(t,e){for(var i in e)r.o(e,i)&&!r.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})}}(),function(){r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){var t={143:0};r.O.j=function(e){return 0===t[e]};var e=function(e,i){var a,n,c=i[0],o=i[1],s=i[2],l=0;if(c.some((function(e){return 0!==t[e]}))){for(a in o)r.o(o,a)&&(r.m[a]=o[a]);if(s)var u=s(r)}for(e&&e(i);l<c.length;l++)n=c[l],r.o(t,n)&&t[n]&&t[n][0](),t[n]=0;return r.O(u)},i=self["webpackChunkteste_dacxi"]=self["webpackChunkteste_dacxi"]||[];i.forEach(e.bind(null,0)),i.push=e.bind(null,i.push.bind(i))}();var i=r.O(void 0,[998],(function(){return r(4792)}));i=r.O(i)})();
//# sourceMappingURL=app.c342b167.js.map